一面：0216 20:00 - 21:40
1、题：指定长度链表reverse 1-2-3-4-5 reverse2到4 -> 1-4-3-2-5

1、IO多路复用，是用来干什么的，简要介绍select poll epoll

2、read, write函数用的多吗？我答用RDMA比较多，框架是用户态调度所以阻塞函数用的少，都是异步函数

3、RDMA都是用的专用硬件，不同用技术太新，你说可以不用专用硬件介绍下，你用的协议和函数

ibverbs接口，ibv_post ibv_recv胡扯了下，跟他讲核心是异步接口，buffer用sgl，跟传统不太一样

4、听你说绑核，你们什么场景需要绑核，为什么要绑核

5、有没有遇到过某个cpu核上软中断过多的场景，你怎么定位到是软中断问题的

6、听你说了NUMA架构，有没有遇到过内存跨NUMA的问题，你怎么定位到

举的电子云的海光cpu适配，发现有些内存申请很慢，火焰图能看到，对比物理地址发现的。然后有了怀疑方向，就写demo验证跨numa性能。

7、你的demo怎么写的，用的什么库
libnuma库

8、详细说说你怎么做的性能优化

硬件排查+软件排查

9、你说的硬件排查详细说说，cpu怎么定位排查，用了什么工具

10、网络怎么分析的

11、磁盘怎么分析的

12、简要介绍下raft，raft的关键核心思想和特性
选举、日志复制、安全性

13、你说选举是选最新的日志，描述下这个新的判断流程

先比term，然后比index

14、term具是什么currentTerm还是lastLogIndexTerm

15、prevote的作用，prevote能防止什么

16、客户端是一个基于raft的kv数据库，IO请求完成的时机

commit完成就能完成，但是我们的实现apply

17、你说的是基于内存的状态机，基于磁盘的状态机呢，如果apply成功才返回两次写盘时延很大，你们怎么处理？

apply msm即可返回

18、为什么apply内存返回，commit日志了返回不行吗？

可以，但是commit完成结果来了个读，数据还在raft log里找起来很麻烦，不如直接aplly到内存的一个kv

19、基于raft实现的kv数据库会出现脏读场景吗，怎么解决？

场景是，脑裂然后脑裂的是leader，连旧leader的节点读数据，但是旧leader识别到自己过期之前可能返回旧数据上去，怎么解决？(没答出来，还没想过这个问题)

20、最后算法题2 有序数组里找第一个出现的目标值

21、语言你怎么看，有人觉得c/c++才是王道，你有这种顾虑吗？

二面：2.18 14:00 - 15:45（挂）

1、介绍下logger原理

2、logger成为leader怎么办，这个时候有人要同步快照的话怎么处理

3、Leader

4、介绍下快照同步的改进，什么场景，不这么做有什么问题

5、详细介绍一下快照同步怎么做的

6、介绍下你怎么做性能优化的

7、对于write in place和append only语义你怎么理解，优劣势是什么

8、写题，多个有序区间找交集

[1 , 2], [3, 5] [7, 9]

[4,6] [8,10]

结果：[4,5] [8,9]

9、归并这么写


二面挂的原因分析：
1、感觉算法题没有写好，虽然写了两个解法，想到了双指针没跟归并联系起来，但是都不是最优解

2、整体对项目的表述有点啰嗦，尤其是在对快照同步优化的解释，解释了很久人家没有听懂。

还有后面对性能优化的阐述，需要提升表达能力。
